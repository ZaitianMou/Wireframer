(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],{260:function(e){e.exports=JSON.parse('{"users":[{"first_name":"Zaitian","last_name":"Mou","email":"zaitian.mou@stonybrook.edu","whetherAdministrator":false,"initials":"zm","wireframers":[{"name":"Default Wireframer","index":0,"board_height":650,"board_width":650,"controls":[{"control_type":"button","index":0,"top":300,"left":300,"width":200,"height":100,"text":"This is a button.","text_font_size":12,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1},{"control_type":"label","index":1,"top":100,"left":100,"width":100,"height":16,"text":"This is a label.","text_font_size":12,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1},{"control_type":"textfield","index":2,"top":400,"left":400,"width":200,"height":50,"text":"This is a textfield.","text_font_size":12,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1},{"control_type":"container","index":3,"top":500,"left":500,"width":200,"height":120,"text":"Container has no text.","text_font_size":0,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1}]},{"name":"Second Default Wireframer","board_height":650,"board_width":650,"index":1,"controls":[{"control_type":"label","index":0,"top":100,"left":100,"width":100,"height":16,"text":"It only has a label.","text_font_size":12,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1},{"control_type":"container","index":1,"top":500,"left":500,"width":200,"height":120,"text":"Container has no text.","text_font_size":0,"background_color":"#bfc9ca","border_color":"#7fb3d5","text_color":"#17202a","border_thickness":2,"border_radius":1}]}]}]}')},263:function(e,t,r){e.exports=r(532)},268:function(e,t,r){},269:function(e,t,r){},459:function(e,t){},461:function(e,t){},532:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(63),i=r.n(o);r(268),r(269),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=r(9),s=r(10),c=r(12),u=r(11),d=r(13),m=r(8),h=r(16),f=r(251),b=r(23),p=r(7),g=r(154),_=r.n(g);r(452),r(454);_.a.initializeApp({apiKey:"AIzaSyA8LpuAcnxGFYKxFPJDPvUHLHvtpDb6P9Y",authDomain:"wireframer-79f37.firebaseapp.com",databaseURL:"https://wireframer-79f37.firebaseio.com",projectId:"wireframer-79f37",storageBucket:"wireframer-79f37.appspot.com",messagingSenderId:"909375561441",appId:"1:909375561441:web:eb570c72824c2b9416a1a0",measurementId:"G-9HKZVXRYJL"});var E=_.a,w=r(41);function v(){return{type:"REGISTER_SUCCESS"}}function y(e){return{type:"REGISTER_ERROR",error:e}}function O(){return{type:"LOGOUT_SUCCESS"}}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(w.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return j({},e,{authError:"Login fail"});case"LOGIN_SUCCESS":return j({},e,{authError:null});case"LOGOUT_SUCCESS":return e;case"REGISTER_SUCCESS":return j({},e,{authError:null});case"REGISTER_ERROR":return j({},e,{authError:t.err.message});default:return e}},k=(r(455),r(476),{todoLists:[]}),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_LIST":var r=Object(b.getFirestore)(),a=new Date,n=a.toUTCString();return r.collection("todoLists").add({key:0,name:"UNKNOWN",owner:"",items:[],lastOpened:{time:n}}).then((function(e){console.log("!"+e.id),t.history.push("/todoList/"+e.id)})),e;case"EDIT_ITEM":break;default:return e}},I=Object(m.c)({auth:S,todoList:C,firestore:b.firestoreReducer,firebase:p.firebaseReducer}),P=r(14),D=r(42),R=function(e,t){return function(r,a,n){var o=(0,n.getFirestore)();t.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0]),whetherAdministrator:!1,email:e.email,wireframers:e.wireframers})})).then((function(){r(v)})).catch((function(e){r(y),console.log(e)}))}},A=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleLogout=function(){var e=r.props.firebase;r.props.signOut(e)},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile;return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(P.c,{to:"/",onClick:this.handleLogout},"Log Out"))," ",n.a.createElement("li",null,n.a.createElement(P.c,{to:"/",className:"btn blue lighten-2"},e.email)))}}]),t}(n.a.Component),L=Object(m.d)(Object(p.firebaseConnect)(),Object(h.b)(null,(function(e){return{signOut:function(t){return e(function(e){return function(t,r){e.auth().signOut().then((function(){t(O)}))}}(t))}}})))(A),z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(P.c,{to:"/register"},"Register")))}}]),t}(n.a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.profile,a=t.uid?n.a.createElement(L,{profile:r}):n.a.createElement(z,null);return n.a.createElement("nav",{className:"nav-wrapper grey darken-3"},n.a.createElement("div",{className:"container"},n.a.createElement(P.b,{to:"/",className:"brand-logo left"},"@wireframers"),a))}}]),t}(n.a.Component),T=Object(m.d)(Object(p.firebaseConnect)(),Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})))(F),B=r(64);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var U=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:"",firstName:"",lastName:""},r.handleChange=function(e){var t=e.target;r.setState((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){Object(w.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,Object(w.a)({},t.id,t.value))}))},r.handleSubmit=function(e){e.preventDefault();var t=Object(B.a)(r),a=t.props,n=(t.state,a.firebase),o={email:r.state.email,password:r.state.password,firstName:r.state.firstName,lastName:r.state.lastName,wireframers:[{name:"Your first wireframer",board_height:650,board_width:650,index:0,controls:[]},{name:"Your second wireframer",board_height:650,board_width:650,index:0,controls:[]}]};a.register(o,n)},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.authError;return t.uid?n.a.createElement(D.a,{to:"/"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Register"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",id:"email",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",id:"password",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Sign Up"),r?n.a.createElement("div",{className:"red-text center"},n.a.createElement("p",null,r)):null)))}}]),t}(a.Component),G=Object(m.d)(Object(p.firebaseConnect)(),Object(h.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{register:function(t,r){return e(R(t,r))}}})))(U);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach((function(t){Object(w.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},r.handleChange=function(e){var t=e.target;r.setState((function(e){return J({},e,Object(w.a)({},t.id,t.value))}))},r.handleSubmit=function(e){e.preventDefault();var t=Object(B.a)(r),a=t.props,n=t.state,o={firebase:a.firebase,credentials:J({},n)};a.login(o)},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.authError;return t.uid?n.a.createElement(D.a,{to:"/"}):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"col s4 white"},n.a.createElement("h5",{className:"grey-text text-darken-3"},"Login"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{className:"active",type:"email",name:"email",id:"email",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{className:"active",type:"password",name:"password",id:"password",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Login"),r?n.a.createElement("div",{className:"red-text center"},n.a.createElement("p",null,r)):null)),n.a.createElement("div",{className:"col s8 banner"},"Welcome to ",n.a.createElement("br",null),"Wireframers")))}}]),t}(a.Component),Y=Object(m.d)(Object(p.firebaseConnect)(),Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{login:function(t){return e(function(e){var t=e.credentials,r=e.firebase;return function(e,a){r.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){console.log("LOGIN_SUCCESS"),e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}}(t))}}})))(M),V=r(159),X=r(43),H=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={user:null,wireframers:[],userID:"0"},r.handleDeleteWireframer=function(e){console.log(e.name);var t=Object(b.getFirestore)(),a=r.state.wireframers,n=a.indexOf(e);a.splice(n,1);for(var o=n;o<a.length;o++)a[o].index=o;t.collection("users").doc(r.state.userID).update({wireframers:Object(V.a)(a)})},r.handleAddList=function(){var e=Object(b.getFirestore)();0!=r.state.wireframers.length?e.collection("users").doc(r.state.userID).update({wireframers:[].concat(Object(V.a)(r.state.wireframers),[{name:"Unknown",board_height:400,board_width:400,index:r.state.wireframers.length,controls:[]}])}).then((function(e){if(0==r.state.wireframers.length)var t=0;else t=r.state.wireframers[r.state.wireframers.length-1].index;r.props.history.push("/wireframer/"+t)})):(console.log("nothing"),e.collection("users").doc(r.state.userID).update({wireframers:{name:"Unknown",board_height:400,board_width:400,index:r.state.wireframers.length,controls:[]}}).then((function(e){if(0==r.state.wireframers.length)var t=0;else t=r.state.wireframers[r.state.wireframers.length-1].index;r.props.history.push("/wireframer/"+t)})))},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.auth.uid)return n.a.createElement(D.a,{to:"/login"});this.props.users.users;var t=Object(p.getFirebase)().auth().currentUser.uid;(this.state.userID=t,null==this.state.user)&&(console.log("start"),void 0!=this.props.users.users&&(console.log("!!!"),console.log(this.props.auth.uid),E.firestore().collection("users").doc(t).get().then((function(t){var r=t.data().wireframers;console.log("."),console.log(r),e.setState({user:t.data(),wireframres:r}),e.state.user=t.data(),r.sort((function(e,t){return null==e.lastOpened?1:null==t.lastOpened?-1:e.lastOpened<t.lastOpened?1:-1})),e.state.wireframers=r}))));return n.a.createElement("div",{className:"dashboard container"},n.a.createElement("p",{className:"large",id:"text_recent_work"},"Recent work:"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s6 m6"},this.state.wireframers.map((function(t){return n.a.createElement("div",null,n.a.createElement(P.b,{to:"/wireframer/"+t.index,key:t.name},n.a.createElement("div",{className:"black-text home_wireframer_link"},t.name)),n.a.createElement(X.Button,{href:"#modal"+t.index,className:"modal-trigger red modal_delete_list waves-effect waves-light home_delete_button"},n.a.createElement("i",{className:"material-icons"},"clear")),n.a.createElement(X.Modal,{id:"modal"+t.index,header:"Delete Wireframer: "+t.name+"?"},"Are you sure you would like to delete wireframer: ",t.index,n.a.createElement("br",null),n.a.createElement("b",null,"Note: it's not undoable."),n.a.createElement(P.b,{to:"/"},n.a.createElement(X.Button,{className:"submit_button_in_modal red",onClick:function(){e.handleDeleteWireframer(t)}},n.a.createElement("i",null,"Yes")))))}))),n.a.createElement("div",{className:"col s6"},n.a.createElement("div",{className:"banner"},"Wireframers",n.a.createElement("br",null)),n.a.createElement("div",{className:"home_new_list_container"},n.a.createElement(P.b,{to:"/",className:"home_new_list_button"}),n.a.createElement("button",{className:"home_new_list_button",onClick:this.handleAddList},"Create a New Wireframer"),n.a.createElement(P.b,null)),null!=this.state.user&&this.state.user.whetherAdministrator?n.a.createElement("div",null,n.a.createElement(P.b,{to:"databaseTester"},n.a.createElement("button",null,"databaseTester"))):n.a.createElement("div",null))))}}]),t}(a.Component),Z=Object(m.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,users:e.firestore.data}}),(function(e){return{}})),Object(p.firestoreConnect)([{collection:"users"}]))(H),$=r(254),q=r.n($),Q=(r(528),function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={element:null},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.element;return"button"==e.control_type?n.a.createElement("button",{style:{display:"inline-block",width:"100%",height:"100%",fontSize:"".concat(e.text_font_size,"px"),borderRadius:"".concat(e.border_radius,"px"),borderWidth:"".concat(e.border_thickness,"px"),backgroundColor:e.background_color,borderColor:e.border_color,color:e.text_color}}," ",e.text):"label"==e.control_type?n.a.createElement("div",{style:{width:"100%",height:"100%",fontSize:"".concat(e.text_font_size,"px"),borderRadius:"".concat(e.border_radius,"px"),borderWidth:"".concat(e.border_thickness,"px"),borderStyle:"ridge",backgroundColor:e.background_color,borderColor:e.border_color,color:e.text_color}},e.text):"container"==e.control_type?n.a.createElement(q.a,{aspectRatio:[5,3]},n.a.createElement("div",{style:{background:"#607d8b",width:"100%",height:"100%",borderRadius:"".concat(e.border_radius,"px"),borderWidth:"".concat(e.border_thickness,"px"),borderStyle:"ridge",backgroundColor:e.background_color,borderColor:e.border_color,color:e.text_color}})):"textfield"==e.control_type?n.a.createElement("input",{value:e.text,style:{fontSize:"".concat(e.text_font_size,"px"),borderRadius:"".concat(e.border_radius,"px"),borderWidth:"".concat(e.border_thickness,"px"),borderStyle:"ridge",backgroundColor:e.background_color,borderColor:e.border_color,color:e.text_color}}):n.a.createElement("p",null,"nothing")}}]),t}(a.Component)),ee=r(258),te=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={wireframer:null,wireframers:null,index:null,userID:"",inArrayPosition:-1,displayColorPicker:!1,scale:1},r.zoomIn=function(){var e=r.state.scale;r.setState({scale:2*e}),console.log("Now the scale is:"+r.state.scale)},r.zoomOut=function(){var e=r.state.scale;r.setState({scale:e/2}),console.log("Now the scale is:"+r.state.scale)},r.changeProperty=function(e,t){console.log(t);var a=r.state.wireframer;switch(e){case"text":a.controls[r.state.elementSelected].text=t;break;case"text_font_size":a.controls[r.state.elementSelected].text_font_size=parseInt(t);break;case"border_thickness":a.controls[r.state.elementSelected].border_thickness=parseInt(t);break;case"border_radius":a.controls[r.state.elementSelected].border_radius=parseInt(t);break;case"background_color":a.controls[r.state.elementSelected].background_color=t;break;case"border_color":a.controls[r.state.elementSelected].border_color=t;break;case"text_color":a.controls[r.state.elementSelected].text_color=t}r.setState({wireframer:a})},r.getColor=function(){return alert("ready"),r.state.wireframer&&r.state.elementSelected?r.state.wireframer.controls[r.state.elementSelected].color:(alert("NOT ok"),null)},r.handleClick=function(){r.setState({displayColorPicker:!r.state.displayColorPicker})},r.handleClose=function(){r.setState({displayColorPicker:!1})},r.handleChange=function(e){var t=r.state.wireframer;t.controls[r.state.elementSelected].color=e,r.setState({wireframers:t})},r.updateDimension=function(e,t){var a=parseInt(document.getElementById("dimension_width_input").value),n=parseInt(document.getElementById("dimension_height_input").value),o=r.state.wireframers;return a>=1&&a<=5e3&&n>=1&&n<=5e3?(o[r.state.index].board_width=a,o[r.state.index].board_height=n,r.setState({wireframers:o}),void(document.getElementById("button_update_dimension").disabled=!0)):(alert("Input Invalid."),null)},r.selectElement=function(e,t){t.stopPropagation(),null!=r.state.elementSelected&&document.getElementById("control"+r.state.elementSelected).classList.remove("selected_control"),r.setState({elementSelected:e}),document.getElementById("control"+e).className="selected_control"},r.unselectElement=function(){null!=r.state.elementSelected&&document.getElementById("control"+r.state.elementSelected).classList.remove("selected_control"),r.setState({elementSelected:null})},r.keyboardInput=function(e){alert(r.state.elementSelected),"d"===e.key&&e.ctrlKey?alert(""):e.deleteKey&&alert("")},r.editName=function(e){var t=r.state.wireframers;t[r.state.index].name=e,r.setState({wireframers:t})},r.getLeft=function(){},r.handleSelected=function(){},r.saveWork=function(e){var t=E.firestore().collection("users").doc(r.state.userID),a=r.state.wireframers;a[r.state.inArrayPosition]=r.state.wireframer,t.update({wireframers:a}),alert("Saved")},r.createAButton=function(){var e=r.state.wireframer;e.controls.push({control_type:"button",index:e.controls.length,top:0,left:0,width:130,height:40,text:"This is a button.",text_font_size:12,background_color:"#bfc9ca",border_color:"#7fb3d5",text_color:"#17202a",border_thickness:2,border_radius:1}),r.setState({wireframer:e})},r.createALabel=function(){var e=r.state.wireframer;e.controls.push({control_type:"label",index:e.controls.length,top:0,left:0,width:85,height:20,text:"This is a Label.",text_font_size:12,background_color:"#bfc9ca",border_color:"#7fb3d5",text_color:"#17202a",border_thickness:0,border_radius:0}),r.setState({wireframer:e})},r.createATextfield=function(){var e=r.state.wireframer;e.controls.push({control_type:"textfield",index:e.controls.length,top:0,left:0,width:110,height:20,text:"This is a textfield.",text_font_size:12,background_color:"#bfc9ca",border_color:"#7fb3d5",text_color:"#17202a",border_thickness:0,border_radius:0}),r.setState({wireframer:e})},r.createAContainer=function(){var e=r.state.wireframer;e.controls.push({control_type:"container",index:e.controls.length,top:0,left:0,width:50,height:20,text:"Container has no text.",text_font_size:0,background_color:"#bfc9ca",border_color:"#7fb3d5",text_color:"#17202a",border_thickness:2,border_radius:10}),r.setState({wireframer:e})},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.auth.uid)return n.a.createElement(D.a,{to:"/"});if(void 0==this.props.users)return n.a.createElement(n.a.Fragment,null);this.state.index=this.props.match.params.index,this.state.userID=Object(p.getFirebase)().auth().currentUser.uid;var t=new Date,r=t.toUTCString();if(null==this.state.wireframers&&void 0!=this.props.users.users){var a=E.firestore().collection("users").doc(this.state.userID);a.get().then((function(n){var o=n.data().wireframers;console.log(">>>"),console.log(o);var i=e.props.match.params.index;o[i].index==e.state.index&&(e.state.wireframer=o[i],e.state.wireframer.lastOpened=t,e.state.wireframers=o,e.state.inArrayPosition=i,e.state.wireframers[i].lastOpened=r,a.update({wireframers:e.state.wireframers}))}))}return n.a.createElement("div",null,n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"Name"),n.a.createElement("input",{className:"active",value:this.state.wireframer?this.state.wireframer.name:null,type:"text",name:"name",id:"name_input_field",onChange:function(t){return e.editName(t.target.value)}})),n.a.createElement("div",{className:"row outContainer"},n.a.createElement("div",{className:"leftColumn"},n.a.createElement("div",{className:"saveSection"},n.a.createElement("p",{className:"save_button",onClick:function(){return e.saveWork(e.state.wireframer.controls)}},"Save"),n.a.createElement("p",{className:"close_button modal-trigger",href:"#modalWhenClose"},"Close")),n.a.createElement("div",{className:"zoomAndDimensionSection"},n.a.createElement("i",{className:"material-icons",id:"zoom_in_button",onClick:function(){return e.zoomIn()}},"zoom_in"),n.a.createElement("i",{className:"material-icons",id:"zoom_out_button",onClick:function(){return e.zoomOut()}},"zoom_out"),n.a.createElement("p",{style:{margin:"0"}},"Current: ",this.state.scale,"X"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"board width:"),n.a.createElement("input",{className:"active dimension_input_field",defaultValue:this.state.wireframer?this.state.wireframer.board_width:null,type:"number",name:"name",min:"1",max:"5000",id:"dimension_width_input",onChange:function(){return document.getElementById("button_update_dimension").disabled=!1}})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"board height:"),n.a.createElement("input",{className:"active dimension_input_field",defaultValue:this.state.wireframer?this.state.wireframer.board_height:null,type:"number",name:"name",min:"1",max:"5000",id:"dimension_height_input",onChange:function(){return document.getElementById("button_update_dimension").disabled=!1}})),n.a.createElement("p",{id:"button_update_dimension",onClick:function(){return e.updateDimension()}},"Update"),n.a.createElement(X.Modal,{id:"modalWhenClose",header:"Want to save your work before leave?"},n.a.createElement(P.b,{to:"/"},n.a.createElement(X.Button,{className:"submit_button_in_modal",onClick:function(){e.saveWork()}},n.a.createElement("i",null,"Save"))),n.a.createElement(P.b,{to:"/"},n.a.createElement(X.Button,{className:"red"},"Don't save.")))),n.a.createElement("div",{className:"divider"}),n.a.createElement("div",{className:"add_element_section"},n.a.createElement("p",null,"Click to add element"),n.a.createElement("div",{onClick:function(){return e.createAContainer()},style:{textAlign:"center",borderStyle:"solid",borderWidth:"1px",width:"80%",borderRadius:"1px",left:"10%",position:"relative"},className:"add_element_icon"},n.a.createElement("p",null,"Container")),n.a.createElement("div",{onClick:function(){return e.createALabel()},className:"add_element_icon",style:{textAlign:"center"}},n.a.createElement("p",null,"Label")),n.a.createElement("div",{style:{left:"20%",position:"relative"}},n.a.createElement("button",{onClick:function(){return e.createAButton()},className:"add_element_icon"},"Button")),n.a.createElement("div",{className:"add_element_icon"},n.a.createElement("input",{value:"Textfield",onClick:function(){return e.createATextfield()}})))),n.a.createElement("div",{className:"",id:"white_board_wrapper"},n.a.createElement("div",{id:"white_board",onClick:function(){return e.unselectElement()},style:this.state.wireframer?{height:this.state.wireframer.board_height,width:this.state.wireframer.board_width,transform:"scale("+this.state.scale+")"}:{}},this.state.wireframer&&this.state.wireframer.controls.map((function(t,r){return n.a.createElement("div",{onClick:function(t){return e.selectElement(r,t)}},n.a.createElement(ee.a,{id:"control"+r,size:{width:parseInt(t.width),height:parseInt(t.height)},position:{x:t.left<0?0:t.left>e.state.wireframer.board_width-parseInt(t.width,10)?e.state.wireframer.board_width-parseInt(t.width,10):t.left,y:e.getTop(t.top,parseInt(t.height))},onDragStop:function(t,a){var n=e.state.wireframer;n.controls[r].top=a.y,n.controls[r].left=a.x,e.setState({wireframer:n})},onResizeStop:function(t,a,n,o,i){var l=e.state.wireframer;l.controls[r].width=n.style.width,l.controls[r].height=n.style.height,e.setState({wireframer:l})}},n.a.createElement(Q,{element:t})))})))),n.a.createElement("div",{className:"",id:"property_section"},n.a.createElement("p",null,"Properties"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"Text"),n.a.createElement("input",{className:"active",value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].text:null,type:"text",name:"name",id:"text_input",onChange:function(t){return e.changeProperty("text",t.target.value)}})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{className:"active"},"Font size"),n.a.createElement("input",{className:"active",value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].text_font_size:null,type:"range",min:"5",max:"40",id:"font_size_input",onChange:function(t){return e.changeProperty("text_font_size",t.target.value)}})),n.a.createElement("p",{style:{left:"5%",position:"relative",margin:"3px"}},"Background color"),n.a.createElement("input",{value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].background_color:null,type:"color",name:"background_color",onChange:function(t){return e.changeProperty("background_color",t.target.value)},style:{left:"10%",position:"relative"}}),n.a.createElement("p",{style:{left:"5%",position:"relative",margin:"3px"}},"Border color "),n.a.createElement("input",{value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].border_color:null,type:"color",name:"border_color",onChange:function(t){return e.changeProperty("border_color",t.target.value)},style:{left:"10%",position:"relative"}}),n.a.createElement("p",{style:{left:"5%",position:"relative",margin:"3px"}},"Text color"),n.a.createElement("input",{value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].text_color:null,type:"color",name:"text_color",onChange:function(t){return e.changeProperty("text_color",t.target.value)},style:{left:"10%",position:"relative"}}),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"Board thickness"),n.a.createElement("input",{className:"active",value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].border_thickness:null,type:"range",name:"points",min:"1",max:"20",id:"board_thickness_input",onChange:function(t){return e.changeProperty("border_thickness",t.target.value)}})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email",className:"active"},"Board radius"),n.a.createElement("input",{className:"active",value:this.state.wireframer&&null!=this.state.elementSelected?this.state.wireframer.controls[this.state.elementSelected].border_radius:null,type:"range",name:"points",min:"1",max:"100",id:"board_radius_input",onChange:function(t){return e.changeProperty("border_radius",t.target.value)}})))))}},{key:"getTop",value:function(e,t){return t=parseInt(t,10),e<0?0:e>this.state.wireframer.board_height-t?this.state.wireframer.board_height-t:e}},{key:"getLeft",value:function(e,t){return t=parseInt(t,10),e<0?0:e>this.state.wireframer.board_width-t?this.state.wireframer.board_width-t:e}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPressed.bind(this))}},{key:"onKeyPressed",value:function(e){if(null!=this.state.elementSelected){if("d"==e.key&&e.ctrlKey){console.log("Ctrl+D detected. Duplicate element: "+this.state.elementSelected);var t=this.state.wireframer,r=t.controls[this.state.elementSelected];console.log(r.index),null!=document.getElementById("control"+r.index)&&document.getElementById("control"+r.index).classList.remove("selected_control");var a=JSON.parse(JSON.stringify(r));a.index=this.state.wireframer.controls.length,a.top=r.top-100,a.left=r.left-100,t.controls.push(a),this.setState({wireframer:t,elementSelected:a.index}),null!=document.getElementById("control"+r.index)&&(document.getElementById("control"+a.index).className="selected_control")}if("Backspace"===e.key){console.log("DELETE detected. Delete element: "+this.state.elementSelected);var n=this.state.wireframer;n.controls.splice(this.state.elementSelected,1);for(var o=this.state.elementSelected;o<n.controls.length;o++)n.controls[o].index=o;null!=document.getElementById("control"+this.state.elementSelected)&&document.getElementById("control"+this.state.elementSelected).classList.remove("selected_control"),this.setState({wireframer:n,elementSelected:null})}}else console.log("No element selected.")}}]),t}(a.Component),re=Object(m.d)(Object(h.b)((function(e,t){var r=t.match.params.id,a=e.firestore.data.todoLists,n=a?a[r]:null;return n&&(n.id=r),{auth:e.firebase.auth,users:e.firestore.data,profile:e.firebase.profile}}),(function(e){return{}})),Object(p.firestoreConnect)([{collection:"users"}]))(te),ae=r(260),ne=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleClear=function(){var e=Object(b.getFirestore)();e.collection("users").get().then((function(t){t.forEach((function(t){console.log("deleting "+t.id),e.collection("users").doc(t.id).delete()}))}))},r.handleReset=function(){var e=Object(b.getFirestore)();ae.users.forEach((function(t){E.auth().createUserWithEmailAndPassword(t.email,"111111").then((function(r){console.log("Create user authentication: "+t.email),e.collection("users").doc(r.user.uid).set(t),console.log("Add data for user "+r.user.uid)})).catch((function(r){console.log(r),e.collection("users").doc(E.auth().currentUser.uid).set(t),console.log("But still add data for the existing user. Need to manully set it as Administrator")}))}))},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("button",{onClick:this.handleClear},"Clear Database"),n.a.createElement("button",{onClick:this.handleReset},"Reset Database")))}}]),t}(n.a.Component),oe=Object(h.b)((function(e){return{auth:e.firebase.auth,users:e.firestore.data,firebase:e.firebase}}),(function(e){return{register:function(t,r){return e(R(t,r))}}}))(ne),ie=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.isLoaded?n.a.createElement(P.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(T,null),n.a.createElement(D.d,null,n.a.createElement(D.b,{exact:!0,path:"/",component:Z}),n.a.createElement(D.b,{exact:!0,path:"/home",component:Z}),n.a.createElement(D.b,{path:"/databaseTester",component:oe}),n.a.createElement(D.b,{path:"/register",component:G}),n.a.createElement(D.b,{path:"/login",component:Y}),n.a.createElement(D.b,{exact:!0,path:"/wireframer/:index",component:re})))):null}}]),t}(a.Component),le=Object(m.d)(Object(p.firebaseConnect)(),Object(h.b)((function(e){return{auth:e.firebase.auth}})))(ie),se=function(e){function t(e){var r;Object(l.a)(this,t),r=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,n=Object(m.e)(I,a(Object(m.a)(f.a.withExtraArgument({getFirebase:p.getFirebase,getFirestore:b.getFirestore})),Object(b.reduxFirestore)(E))),o={firebase:E,config:{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0},dispatch:n.dispatch,createFirestoreInstance:b.createFirestoreInstance};return r.state={store:n,rrfProps:o},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(h.a,{store:this.state.store},n.a.createElement(p.ReactReduxFirebaseProvider,this.state.rrfProps,n.a.createElement(le,null)))}}]),t}(n.a.Component);i.a.render(n.a.createElement(se,null),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.0f9e3034.chunk.js.map